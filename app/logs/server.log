2025-11-30 16:34:50,198 [INFO] main - Application startup complete
2025-12-01 11:20:23,672 [INFO] main - Application startup complete
2025-12-01 13:11:18,689 [INFO] main - Application startup complete
2025-12-01 13:32:17,022 [ERROR] ipykernel.comm - No such comm target registered: jupyter.widget.control
2025-12-01 13:32:17,026 [WARNING] Comm - No such comm: 5cf46f82-ef15-497d-bbd5-4e20c50dd22a
2025-12-07 10:23:25,290 [INFO] main - Application startup complete
2025-12-07 10:27:05,618 [WARNING] passlib.handlers.bcrypt - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "C:\PycharmProjects\19.10.2025\.venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-12-07 10:33:02,611 [WARNING] passlib.handlers.bcrypt - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "C:\PycharmProjects\19.10.2025\.venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-12-07 10:38:38,273 [WARNING] passlib.handlers.bcrypt - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "C:\PycharmProjects\19.10.2025\.venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-12-07 10:41:29,457 [WARNING] passlib.handlers.bcrypt - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "C:\PycharmProjects\19.10.2025\.venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-12-07 10:51:44,002 [INFO] main - Application startup complete
2025-12-07 10:52:26,880 [WARNING] passlib.handlers.bcrypt - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "C:\PycharmProjects\19.10.2025\.venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-12-07 10:52:32,883 [WARNING] passlib.handlers.bcrypt - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "C:\PycharmProjects\19.10.2025\.venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-12-07 10:57:29,429 [INFO] main - Application startup complete
2025-12-07 10:59:23,898 [INFO] main - Application startup complete
2025-12-07 11:06:46,904 [INFO] main - Application startup complete
2025-12-07 11:07:04,660 [INFO] main - Application startup complete
2025-12-07 11:08:21,557 [WARNING] passlib.handlers.bcrypt - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "C:\PycharmProjects\19.10.2025\.venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-12-07 11:25:06,626 [INFO] main - Application startup complete
2025-12-07 11:25:27,945 [INFO] main - Application startup complete
2025-12-07 11:26:33,352 [INFO] auth - User registered: karin1
2025-12-07 11:33:43,988 [INFO] auth_router - User logged in: karin1
2025-12-07 11:45:55,823 [INFO] auth_router - User logged in: karin1
2025-12-07 12:05:52,675 [INFO] main - Application startup complete
2025-12-07 12:06:46,613 [INFO] auth - User registered: karin_api
2025-12-07 12:07:43,201 [INFO] auth_router - User logged in: karin_api
2025-12-07 12:12:57,027 [INFO] auth_router - User karin_api purchased 50 tokens. New balance: 50
2025-12-07 12:15:22,669 [INFO] auth - User karin_api performed 'train', tokens deducted: 1, new balance: 49
2025-12-07 12:18:12,326 [INFO] auth - User karin_api performed 'train', tokens deducted: 1, new balance: 48
2025-12-07 12:18:12,390 [INFO] training - User karin_api trained model 'linear' (id=1) with metrics: {'r2': 0.9614597655284883, 'mae': 5.174395664836247, 'mse': 52.82661763717018}
2025-12-07 12:24:13,804 [INFO] prediction - User karin_api listed models (count=1)
2025-12-07 12:44:07,686 [INFO] auth_router - User karin_api purchased 50 tokens. New balance: 98
2025-12-07 12:47:30,340 [INFO] auth - User karin_api performed 'predict:linear', tokens deducted: 5, new balance: 93
2025-12-07 12:47:30,344 [ERROR] prediction - Prediction failed
Traceback (most recent call last):
  File "C:\PycharmProjects\19.10.2025\app\routers\prediction.py", line 68, in predict_with_latest_model
    prediction = pipeline.predict(df)[0]
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\PycharmProjects\19.10.2025\.venv\Lib\site-packages\sklearn\pipeline.py", line 788, in predict
    Xt = transform.transform(Xt)
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\PycharmProjects\19.10.2025\.venv\Lib\site-packages\sklearn\utils\_set_output.py", line 316, in wrapped
    data_to_wrap = f(self, X, *args, **kwargs)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\PycharmProjects\19.10.2025\.venv\Lib\site-packages\sklearn\compose\_column_transformer.py", line 1085, in transform
    raise ValueError(f"columns are missing: {diff}")
ValueError: columns are missing: {'subject', 'city', 'is_online', 'teacher_experience_years', 'lesson_minutes', 'student_level'}
2025-12-07 13:28:10,296 [INFO] main - Application startup complete
2025-12-07 13:28:23,370 [INFO] main - Application startup complete
2025-12-07 13:34:36,753 [INFO] main - Application startup complete
2025-12-07 13:34:57,927 [INFO] main - Application startup complete
2025-12-07 13:47:38,409 [INFO] main - Application startup complete
2025-12-07 13:47:53,222 [INFO] main - Application startup complete
2025-12-07 13:59:31,797 [INFO] main - Application startup complete
2025-12-07 14:00:31,224 [INFO] auth - User registered: student_demo
2025-12-07 14:01:10,356 [INFO] auth_router - User logged in: student_demo
2025-12-07 14:02:31,253 [INFO] auth_router - User student_demo purchased 20 tokens. New balance: 20
2025-12-07 14:03:11,785 [INFO] auth - User student_demo performed 'train', tokens deducted: 1, new balance: 19
2025-12-07 14:03:11,825 [INFO] training - User student_demo trained model 'linear' (id=2) with metrics: {'r2': 0.96, 'mae': 5.17, 'mse': 52.83, 'rmse': 7.27}
2025-12-07 14:04:17,679 [INFO] prediction - User student_demo listed models (count=2)
2025-12-07 14:05:25,660 [INFO] auth - User student_demo performed 'predict:linear', tokens deducted: 5, new balance: 14
2025-12-07 14:05:25,664 [ERROR] prediction - Prediction failed
Traceback (most recent call last):
  File "C:\PycharmProjects\19.10.2025\app\routers\prediction.py", line 68, in predict_with_latest_model
    prediction = pipeline.predict(df)[0]
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\PycharmProjects\19.10.2025\.venv\Lib\site-packages\sklearn\pipeline.py", line 788, in predict
    Xt = transform.transform(Xt)
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\PycharmProjects\19.10.2025\.venv\Lib\site-packages\sklearn\utils\_set_output.py", line 316, in wrapped
    data_to_wrap = f(self, X, *args, **kwargs)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\PycharmProjects\19.10.2025\.venv\Lib\site-packages\sklearn\compose\_column_transformer.py", line 1085, in transform
    raise ValueError(f"columns are missing: {diff}")
ValueError: columns are missing: {'subject', 'lesson_minutes', 'city', 'student_level', 'is_online', 'teacher_experience_years'}
2025-12-07 14:10:22,193 [INFO] auth - User student_demo performed 'predict:linear', tokens deducted: 5, new balance: 9
2025-12-07 14:10:22,207 [INFO] prediction - User student_demo requested prediction with model 'linear' (id=2): {'subject': 'math', 'student_level': 'high_school', 'lesson_minutes': 60, 'teacher_experience_years': 5, 'is_online': 'yes', 'city': 'Tel Aviv'} -> 163.04361668611443
2025-12-07 14:21:13,544 [INFO] main - Application startup complete
2025-12-07 14:21:31,237 [INFO] main - Application startup complete
2025-12-07 14:31:39,877 [INFO] main - Application startup complete
2025-12-07 14:32:35,072 [INFO] auth - User registered: new_user1
2025-12-07 14:42:02,594 [INFO] auth_router - User logged in: new_user1
2025-12-07 14:44:18,165 [INFO] auth_router - User new_user1 purchased 20 tokens. New balance: 20
2025-12-07 14:46:52,658 [INFO] auth - User new_user1 performed 'train', tokens deducted: 1, new balance: 19
2025-12-07 14:46:52,693 [INFO] training - User new_user1 trained model 'linear' (id=3) with metrics: {'r2': 0.96, 'mae': 5.17, 'mse': 52.83, 'rmse': 7.27}
2025-12-07 14:49:12,802 [INFO] prediction - User new_user1 listed models (count=3)
2025-12-07 14:50:16,106 [INFO] auth - User new_user1 performed 'predict:linear', tokens deducted: 5, new balance: 14
2025-12-07 14:50:16,121 [INFO] prediction - User new_user1 requested prediction with model 'linear' (id=3): {'subject': 'math', 'student_level': 'high_school', 'lesson_minutes': 60, 'teacher_experience_years': 5, 'is_online': 'yes', 'city': 'Tel Aviv'} -> 163.04
